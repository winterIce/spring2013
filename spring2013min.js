void function(){function Q(g){return document.getElementById(g)}function m(p,g){return p.replace(/#\{(.*?)\}/g,function(aI,aH){return g&&(aH in g)?g[aH]:""})}function H(g,p,aH){if(g.addEventListener){g.addEventListener(p,aH,false)}else{if(g.attachEvent){g.attachEvent("on"+p,aH)}}}function aG(){var aI=document,g=aI.body,aH=aI.documentElement,p=aI.compatMode=="BackCompat"?g:aI.documentElement;return Math.max(aH.scrollWidth,g.scrollWidth,p.clientWidth)}function j(aI,aH){if(!aI||!aI.length){return[]}if(aI.length==1){return[aI[0][0],aI[0][1]]}if(aI.length==2){return[aI[0][0]+(aI[1][0]-aI[0][0])*aH,aI[0][1]+(aI[1][1]-aI[0][1])*aH]}var g=[];for(var p=1;p<aI.length;p++){g.push(j([aI[p-1],aI[p]],aH))}return j(g,aH)}var z="",ag=Math.PI,x=document.getElementsByTagName("head")[0],aA=Q("lm"),s=Q("s_wrap"),aw="http://s1.bdstatic.com/r/www/cache/spring2013/",aw="http://wuyaoquan.fe.baidu.com/spring/static/",q="http://yun.baidu.com/huodong/christmas",u=Q("lg"),G=u.getElementsByTagName("img")[0],h,ay,D,aF,A,M,aq,ak,al,am,an,L,J,R,av,ao,af,B,K=document.all&&window.attachEvent,T=/firefox\/\d+\.\d+/i.test(navigator.userAgent),ar=/opera(\/| )\d+/i.test(navigator.userAgent),v=T||ar,t=K&&window.XMLHttpRequest&&window.addEventListener,b=K&&!window.XMLHttpRequest,W,Y,f,S,l,aC,ab,a,r,au,N,X,O,ai,c,V,aB=false,ap=0,o=0,at,k=[],az=[],w=[],E={logo:[0,136,276,414,552,690,830,969],blessText:[[[0,0],[-35,0],[-70,0],[-106,0]],[[0,-34],[-35,-34],[-70,-34],[-106,-34],[-144,-34],[-181,-34],[-218,-34],[-255,-34]],[[0,-68],[-35,-68],[-70,-68],[-106,-68],[-144,-68],[-181,-68],[-218,-68],[-255,-68],[-291,-68],[-325,-68],[-359,-68],[-393,-68]],[[0,-102],[-35,-102],[-70,-102],[-106,-102],[-144,-102],[-181,-102],[-218,-102],[-255,-102],[-291,-102],[-325,-102],[-359,-102],[-393,-102],[-431,-102],[-466,-102],[-500,-102],[-533,-102]],[[0,-137],[-35,-137],[-70,-137],[-106,-137],[-144,-137],[-181,-137],[-218,-137],[-255,-137],[-291,-137],[-325,-137],[-359,-137],[-393,-137],[-431,-137],[-466,-137],[-500,-137],[-533,-137],[-567,-137],[-600,-137],[-633,-137],[-667,-137],[-700,-137],[-733,-137],[-767,-137],[-800,-137]]],level:[1,2,3,4,6],share:["images/share1.jpg","images/share2.jpg","images/share3.jpg","images/share4.jpg","images/share5.jpg"],levelSpeed:[300,270,240,210,180]};function aD(aK,g){var aI,p=[],aJ=[];F();for(var aH=0;aH<aK;aH++){if(az[aH]){continue}aJ.push(aH)}for(aH=0;aH<g;aH++){aI=Math.floor(Math.random()*aJ.length);p.push(aJ[aI]);aJ.splice(aI,1)}return p}function F(){y();for(var p=0,g=w.length;p<g;p++){az[w[p][2]]=1}if(w[0][2]-20>=0){az[w[0][2]-20]=1}if(w[0][2]+20<=179){az[w[0][2]+20]=1}if(w[0][2]-1>=0){az[w[0][2]-1]=1}if(w[0][2]+1<=179){az[w[0][2]+1]=1}}function y(){for(var g=0;g<180;g++){az[g]=0}}function ad(aH,g,aI){if(W){l=l||{};try{if(!l[aH]){l[aH]=new Audio(aw+"sound/"+(v?aH.replace(/\.mp3/,".ogg"):aH));g&&l[aH].addEventListener("ended",function(){this.currentTime=0;this.play()},false)}!aI&&l[aH].play()}catch(p){}}else{if(!l){l=document.createElement("bgsound");document.body.appendChild(l)}if(!aI){l.src=aw+"sound/"+aH}l.loop=g?-1:0}}function aE(){if(!l){return}if(W){try{for(var aH in l){l[aH].pause()}}catch(g){}}else{l.src=""}}function U(p,aH){if(!p){return}var g=parseInt(aH/(2*ag)*360)%360;if(W){p.style[W]=m("rotate(#{0}deg)",[g])}else{p.style.rotation=g+"deg"}}if(!K||document.documentMode>=9){var ax=x.style;for(var I in {transformProperty:1,WebkitTransform:1,OTransform:1,msTransform:1,MozTransform:1}){if(/^[^u]/.test(typeof ax[I])){W=I;break}}if(!W){return}}function Z(){for(var aH=0,g=k.length;aH<g;aH++){for(var p=0;p<k[aH].length;p++){k[aH][p].style.display="none"}}for(aH=0,g=w.length;aH<g;aH++){w[aH][0].style.display="none"}}function ae(){w=[];for(var g=0;g<5;g++){w.push([Q("snake-body-"+(g+1))]);w[g].push(3);w[g].push(88+g);w[g].push(0);w[g].push(Math.floor(w[g][2]/20));w[g].push(w[g][2]%20);w[g][0].style.left=w[g][5]*30+"px";w[g][0].style.top=w[g][4]*30+"px";U(w[g][0],0)}}function P(){if(w[0][4]<0||w[0][4]>8||w[0][5]<0||w[0][5]>19){return 1}for(var p=1,g=w.length;p<g;p++){if(w[0][2]==w[p][2]){return 2}}for(p=0,g=at.length;p<g;p++){if(w[0][2]==at[p]){if(O==36||O==37){if(w[0][2]==at[0]){at[0]=-1;c=0;return 3}else{if(w[0][2]==at[1]){at[1]=-1;c=1;return 3}else{return 4}}}if(w[0][2]==at[O%4]){at[O%4]=-1;return 3}else{return 4}}}return 0}function e(){var g=2;M.style.display="";aq.style.display="none";ak.style.display="";al.style.display="";am.style.display="none";an.style.display="none";r=setInterval(function(){if(g==0){r&&clearInterval(r);r=null;ap=1;o=1;aB=true;M.style.display="none";aq.style.display="none";ak.style.display="none";R.style.display="";for(var aH=0,p=w.length;aH<p;aH++){w[aH][0].style.display=""}au=0;ad("spring.mp3",true);return}al.style.display="none";am.style.display="none";an.style.display="none";switch(g){case 2:am.style.display="";break;case 1:an.style.display="";break}--g},700)}function ah(){G.src=aw+"images/logo.jpg";h=document.createElement("div");h.id="spring-lg-snake";u.appendChild(h);G.style.display="none";h.setAttribute("title","\u6293\u4F4F\u4F60\u76842013\u5E78\u8FD0\u86C7\uFF01");ay=document.createElement("div");ay.id="spring-lg-snake-a";h.appendChild(ay);D=document.createElement("div");D.id="game-stage-outer";document.body.appendChild(D);i();B=document.createElement("div");B.id="game-region";aA.parentNode.insertBefore(B,aA);D.innerHTML='<div id="game-stage"><div id="game-stage-inner" style="display:none;"></div><div id="game-stage-close"></div><div id="game-stage-tip1"></div><div id="game-stage-tip1a"></div><div id="game-stage-count-down" style="display:none;"><div id="game-stage-count-down3"></div><div id="game-stage-count-down2"></div><div id="game-stage-count-down1"></div></div><div id="game-stage-tip2" style="display:none;"></div><div id="game-stage-tip3" style="display:none;"></div></div><div id="game-share" style="display:none;"><a id="share-hongbao" href="http://www.baidu.com/s?wd=%BA%EC%B0%FC" target="_blank"></a><a id="share-weibo" href="#" target="_blank"></a><div id="share-repeat"></div><div id="share-close"></div><img src="" id="card1" style="display:none;"/><img src="" id="card2" style="display:none;"/><img src="" id="card3" style="display:none;"/><img src="" id="card4" style="display:none;"/><img src="" id="card5" style="display:none;"/></div>';aF=Q("game-stage");A=Q("game-stage-close");M=Q("game-stage-tip1");aq=Q("game-stage-tip1a");ak=Q("game-stage-count-down");al=Q("game-stage-count-down3");am=Q("game-stage-count-down2");an=Q("game-stage-count-down1");L=Q("game-stage-tip2");J=Q("game-stage-tip3");R=Q("game-stage-inner");av=Q("game-share");ao=Q("share-hongbao");af=Q("share-weibo");aC=false;H(h,"click",function(aM){aM.stopPropagation?aM.stopPropagation():aM.cancelBubble=true;aM.preventDefault?aM.preventDefault():aM.returnValue=false;if(Y!=0||ab){return}var p=0;a&&clearTimeout(a);a=null;ab=setInterval(function(){ay.style.backgroundPosition="0 -"+E.logo[p++]+"px";if(p>7){clearInterval(ab);ab=null;d(1)}},80)});H(h,"mouseover",function(aM){aM.stopPropagation?aM.stopPropagation():aM.cancelBubble=true;aM.preventDefault?aM.preventDefault():aM.returnValue=false;if(Y!=0||ab||a){return}var p=0;a=setTimeout(function(){clearTimeout(a);a=null;if(ab||Y!=0){return}ab=setInterval(function(){ay.style.backgroundPosition="0 -"+E.logo[p++]+"px";if(p>7){clearInterval(ab);ab=null;d(1)}},80)},1000)});H(h,"mouseout",function(p){a&&clearTimeout(a);a=null});H(A,"click",function(p){p.stopPropagation?p.stopPropagation():p.cancelBubble=true;p.preventDefault?p.preventDefault():p.returnValue=false;r&&clearInterval(r);r=null;aq.style.display="";ak.style.display="none";al.style.display="";am.style.display="none";an.style.display="none";d(0)});H(M,"click",function(p){p.stopPropagation?p.stopPropagation():p.cancelBubble=true;p.preventDefault?p.preventDefault():p.returnValue=false;if(r){return}e()});H(aq,"click",function(p){p.stopPropagation?p.stopPropagation():p.cancelBubble=true;p.preventDefault?p.preventDefault():p.returnValue=false;if(r){return}e()});H(ao,"click",function(p){p.stopPropagation?p.stopPropagation():p.cancelBubble=true});H(af,"click",function(p){p.stopPropagation?p.stopPropagation():p.cancelBubble=true});H(Q("share-repeat"),"click",function(p){p.stopPropagation?p.stopPropagation():p.cancelBubble=true;d(1,1);e()});H(Q("share-close"),"click",function(p){p.stopPropagation?p.stopPropagation():p.cancelBubble=true;d(0)});H(document,"keydown",function(aM){aM.stopPropagation?aM.stopPropagation():aM.cancelBubble=true;if(document.activeElement.tagName.toLowerCase()=="input"){return}if(Y==1){if(r){return}e();return}if(Y!=2){return}var aN=aM||window.event;var p=aN.which?aN.which:aN.keyCode;V=w[0][1];switch(p){case 37:if(w[0][1]!=1){w[0][1]=3}au=0;break;case 38:if(w[0][1]!=2){w[0][1]=0}au=0;break;case 39:if(w[0][1]!=3){w[0][1]=1}au=0;break;case 40:if(w[0][1]!=0){w[0][1]=2}au=0;break}aM.preventDefault?aM.preventDefault():aM.returnValue=false});var aL={webkit:1,moz:1,ms:1,o:1,"":1},aJ="",g="";for(var aK in aL){aK=aK?"-"+aK+"-":"";aJ+=m("#{0}user-select:none;",[aK]);g+=m("background-image:#{0}linear-gradient(left,rgba(255,255,255,255)0,rgba(255,255,255,0)50%),#{0}linear-gradient(right,rgba(255,255,255,255)0,rgba(255,255,255,0)50%);",[aK])}var aH=m('#spring-lg-snake{width:270px;height:130px;margin:0 auto;position:relative;background:url("#{host}images/logo.jpg")0 0 no-repeat;}#spring-lg-snake-a{width:118px;height:130px;position:absolute;left:79px;top:0;background:url("#{host}images/logoa.jpg")0 0 no-repeat;}#game-stage-outer{width:1015px;height:342px;position:absolute;top:270px;overflow:hidden;}#game-region{width:600px;height:352px;}#game-stage{width:1015px;height:342px;background:url("#{host}images/stagebg.jpg") 0 0 no-repeat;position:absolute;left:0;}#game-stage-close{width:30px;height:30px;cursor:pointer;position:absolute;left:773px;top:14px;}#game-stage-tip1{width:423px;height:108px;cursor:pointer;position:absolute;left:275px;top:57px;background-position:0 0;}#game-stage-tip1a{width:238px;height:102px;cursor:pointer;position:absolute;left:376px;top:167px;background-position:0 -119px;}#game-stage-count-down{width:238px;height:102px;position:absolute;left:376px;top:167px;}#game-stage-count-down3{width:238px;height:102px;background-position:0 -420px;}#game-stage-count-down2{width:238px;height:101px;background-position:0 -533px;}#game-stage-count-down1{width:238px;height:98px;background-position:0 -649px;}#game-stage-tip2{width:126px;height:83px;position:absolute;left:438px;top:120px;background-position:0 -327px;}#game-stage-tip3{width:115px;height:84px;position:absolute;left:438px;top:120px;background-position:0 -231px;}#game-stage-inner{width:600px;height:270px;position:absolute;left:186px;top:34px;overflow:hidden;}.game-bless-text{width:29px;height:29px;position:absolute;left:-30px;top:-30px;background:url("#{host}images/bless_text.jpg") 0 0 no-repeat;}#game-bless-text-0-0{background:url("#{host}images/bless_text.jpg")0 0 no-repeat;}.snake-body{width:29px;height:29px;position:absolute;behavior:url(#default#VML);}#game-share{width:600px;height:270px;position:absolute;left:184px;}#game-share img{position:absolute;}#card1{top:68px;left:100px;}#card2{top:36px;left:180px;}#card3{top:31px;left:133px;}#card4{top:35px;left:53px;}#card5{top:30px;left:39px;}#share-hongbao{display:block;width:100px;height:24px;position:absolute;left:123px;top:192px;}#share-weibo{display:block;width:156px;height:23px;position:absolute;left:223px;top:192px;}#share-repeat{width:98px;height:25px;position:absolute;left:383px;top:192px;cursor:pointer;}#share-close{width:22px;height:22px;position:absolute;right:0;top:0;cursor:pointer;}',{host:aw,ver:z,ie6:b?"ie6":""});if(K){document.createStyleSheet().cssText=aH}else{var aI=document.createElement("style");aI.setAttribute("type","text/css");aI.appendChild(document.createTextNode(aH));x.appendChild(aI)}}function i(){imgRect=G.getBoundingClientRect();var g=aG()-1015;g=(g>=0)?(g+40):0;D.style.left=Math.floor(g/2)+"px"}function n(){aB=false;ah();i();H(window,"resize",function(){i()});d(0);f=0;var aI,g,aH,p,aL=[],aJ=[],aK=[];S=setInterval(function(){if(aB){aB=false;aa();return}switch(Y){case 0:break;case 1:aL[4]=w[0][4];aL[5]=w[0][5];break;case 2:aH=new Date().getTime()-f;if(aH>E.levelSpeed[ap-1]&&!au){L.style.display="none";J.style.display="none";if(w[0][1]==0){aL[4]=w[0][4]-1;aL[5]=w[0][5]}else{if(w[0][1]==1){aL[5]=w[0][5]+1;aL[4]=w[0][4]}else{if(w[0][1]==2){aL[4]=w[0][4]+1;aL[5]=w[0][5]}else{if(w[0][1]==3){aL[5]=w[0][5]-1;aL[4]=w[0][4]}}}}aL[2]=aL[4]*20+aL[5];if(ap==1){if(aL[4]<0||aL[4]>8||aL[5]<0||aL[5]>19){if(X==1){J.style.display="";w[0][1]=V;au=1;--X;return}}}for(aI=0,g=at.length;aI<g;aI++){if(aL[2]==at[aI]){if(O==36||O==37){if(aL[2]!=at[0]&&aL[2]!=at[1]){d(3);return}}else{if(aL[2]!=at[O%4]){--N;if(ap>1||N==0){d(3)}L.style.display="";w[0][1]=V;au=1;return}}}}V=w[0][1];tdd0=w[w.length-1];for(g=w.length,aI=g-1;aI>=1;aI--){w[aI][1]=w[aI-1][1];w[aI][2]=w[aI-1][2];w[aI][4]=w[aI-1][4];w[aI][5]=w[aI-1][5];w[aI][0].style.left=w[aI][5]*30+"px";w[aI][0].style.top=w[aI][4]*30+"px"}if(w[0][1]==0){--w[0][4]}else{if(w[0][1]==1){++w[0][5]}else{if(w[0][1]==2){++w[0][4]}else{w[0][5]=w[0][5]-1}}}w[0][2]=w[0][4]*20+w[0][5];w[0][0].style.left=w[0][5]*30+"px";w[0][0].style.top=w[0][4]*30+"px";for(aI=0,g=w.length;aI<g;aI++){if(w[aI][3]==1){continue}if(w[aI][1]==0){U(w[aI][0],ag/2)}else{if(w[aI][1]==1){U(w[aI][0],ag)}else{if(w[aI][1]==2){U(w[aI][0],1.5*ag)}else{U(w[aI][0],0)}}}}p=P();if(p==1){d(3)}else{if(p==2){d(3)}else{if(p==3){if(w[2][3]==0){aL=w[2];w[2][0].style.display="none";k[ap-1][(o-1)*4+(O%4)].style.left=aL[5]*30+"px";k[ap-1][(o-1)*4+(O%4)].style.top=aL[4]*30+"px";w.splice(ai++,1,[k[ap-1][(o-1)*4+(O%4)],aL[1],aL[2],1,aL[4],aL[5]])}else{aJ=w[w.length-2];aK=w[w.length-1];if(O==36||O==37){w.splice(ai++,0,[k[ap-1][(o-1)*4+c],aJ[1],aJ[2],1,aJ[4],aJ[5]])}else{w.splice(ai++,0,[k[ap-1][(o-1)*4+(O%4)],aJ[1],aJ[2],1,aJ[4],aJ[5]])}w[w.length-2][1]=aK[1];w[w.length-2][2]=aK[2];w[w.length-2][4]=aK[4];w[w.length-2][5]=aK[5];w[w.length-1][1]=tdd0[1];w[w.length-1][2]=tdd0[2];w[w.length-1][4]=tdd0[4];w[w.length-1][5]=tdd0[5]}++O;if(O%4==0){++o;if(o>E.level[ap-1]){o=1;++ap}if(ap==6){d(3);return}d()}}}}f=new Date().getTime()}break;case 3:break}},100)}function aa(){ac(Y+1)}function ac(g){if(Y==g){return}d(g)}var aj=window.SPRING={};function C(g){aj.caches=aj.caches||{};if(aj.caches[g]){return}(aj.caches[g]=new Image()).src=aw+g}function d(aQ,aR){if(typeof(aQ)!="undefined"){Y=aQ}switch(Y){case 0:ay.style.backgroundPosition="0 0";h.style.background='url("'+aw+'images/logo.jpg")';ay.style.background='url("'+aw+'images/logoa.jpg")';D.style.display="none";B.style.display="none";r&&clearInterval(r);r=null;aq.style.display="";ak.style.display="none";al.style.display="";am.style.display="none";an.style.display="none";aE();break;case 1:M.style.backgroundImage='url("'+aw+'images/tip.jpg")';aq.style.backgroundImage='url("'+aw+'images/tip.jpg")';L.style.backgroundImage='url("'+aw+'images/tip.jpg")';J.style.backgroundImage='url("'+aw+'images/tip.jpg")';al.style.backgroundImage='url("'+aw+'images/tip.jpg")';am.style.backgroundImage='url("'+aw+'images/tip.jpg")';an.style.backgroundImage='url("'+aw+'images/tip.jpg")';ad("spring.mp3",true,true);if(!aC){aC=true;var aS=W?"img":"v:image";var aN=[],aM,aL,aH,aK;for(aM=1;aM<=5;aM++){aN.push(m('<#{tag} id="snake-body-#{index}" class="snake-body" src="#{host}images/snake#{index}.png" style="display:none;"></#{tag}>',{tag:aS,index:aM,host:aw,ver:z}))}R.innerHTML+=aN.join("");for(aM=0,aK;aM<5;aM++){k[aM]=[];for(aL=0;aL<E.blessText[aM].length;aL++){aK=document.createElement("div");aK.className="game-bless-text";aK.id="game-bless-text-"+aM+"-"+aL;aK.style.display="none";aK.style.backgroundPosition=E.blessText[aM][aL][0]+"px "+E.blessText[aM][aL][1]+"px";R.appendChild(aK);k[aM].push(aK)}}}C("images/bless_text.jpg");ae();aF.style.top="-342px";D.style.display="";B.style.display="";M.style.display="";aq.style.display="";A.style.display="";L.style.display="none";J.style.display="none";Z();aF.style.display="";av.style.display="none";Q("card1").style.display="none";Q("card2").style.display="none";Q("card3").style.display="none";Q("card4").style.display="none";Q("card5").style.display="none";N=3;X=1;au=1;O=0;ai=2;c=0;V=3;if(!aR){var aU=new Date().getTime(),aJ;var g=[],aT;aT=setInterval(function(){aJ=new Date().getTime();g=j([[0,-342],[0,0]],(aJ-aU)/1000);aF.style.top=g[1]+"px";if(g[1]>0){aF.style.top="0px";clearInterval(aT);aT=null;return}},20)}else{aF.style.top="0px"}break;case 2:C("images/card"+ap+".jpg");C("images/sharebg.jpg");Z();at=aD(180,4);for(var aM=0,aI,p;aM<4;aM++){aI=Math.floor(at[aM]/20);p=Math.floor(at[aM]%20);k[ap-1][(o-1)*4+aM].style.left=p*30+"px";k[ap-1][(o-1)*4+aM].style.top=aI*30+"px";k[ap-1][(o-1)*4+aM].style.display=""}var aP=w.length;for(aM=0;aM<aP;aM++){w[aM][0].style.display=""}break;case 3:av.style.backgroundImage='url("'+aw+'images/sharebg.jpg")';aE();Z();aF.style.display="none";av.style.display="";var aO;aO=(ap>1)?E.share[ap-2]:E.share[0];Q("share-weibo").setAttribute("href","http://service.weibo.com/share/share.php?url="+encodeURIComponent(document.location.href)+"&title="+encodeURIComponent("IQ\u7834\u8868RP\u7206\u68DA\uFF01\u52A8\u52A8\u624B\u6307\u5C31\u902E\u4F4F\u4E00\u67612013\u5E78\u8FD0\u86C7\uFF01\u65B0\u5E74\u5FC5\u987B\u4ECE\u5934\u65FA\u5230\u5C3E\uFF0C\u5FEB\u7ED9\u81EA\u5DF1\u6293\u4E00\u67612013\u5E78\u8FD0\u86C7\u5427\uFF01\u731B\u51FB\u8FD9\u91CChttp%3A//www.baidu.com%20\u795D\u798F\u4E0D\u5ACC\u591A\uFF01\u8FD8\u6709\u53F2\u4E0A\u6700\u8C6A\u534E\u7EA2\u5305\u554A\uFF01\u6709\u623F\u6709\u8F66\u6709\u94BB\u77F3\uFF01")+"&appkey=&pic="+encodeURIComponent(aw+aO)+"&ralateUid=");if(ap==1){Q("card1").src=aw+"images/card1.jpg";Q("card1").style.display=""}else{Q("card"+(ap-1)).src=aw+"images/card"+(ap-1)+".jpg";Q("card"+(ap-1)).style.display=""}break}if(t){document.documentElement.style.height="";document.documentElement.style.height="100%"}else{if(K){}}}n()}();